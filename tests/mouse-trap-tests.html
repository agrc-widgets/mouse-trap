<!DOCTYPE html>
<html>
<head>
    <title>mouse-trap Tests</title>
    <link rel="stylesheet" href="../node_modules/arcgis-js-api/css/main.css">
    <style>
        .esri-view {
            height: 500px;
            width: 500px;
        }
    </style>

    <script type="text/javascript" src="../node_modules/dojo/dojo.js"></script>
    <script type="text/javascript">
        const projectUrl = location.pathname.replace(/\/[^\/]+$/, '') + '/';
        require({
            packages: [{
                name: 'mouse-trap',
                location: projectUrl + '..'
            }, {
                name: 'maquette',
                location: projectUrl + '../node_modules/maquette',
                main: 'dist/maquette.umd'
            }, {
                name: 'maquette-jsx',
                location: projectUrl + '../node_modules/maquette-jsx',
                main: 'dist/maquette-jsx.umd'
            }, {
                name: 'maquette-css-transitions',
                location: projectUrl + '../node_modules/maquette-css-transitions',
                main: 'dist/maquette-css-transitions.umd'
            }, {
                name: 'esri',
                location: projectUrl + '../node_modules/arcgis-js-api'
            }]
        },[
            'mouse-trap',
            'esri/Map',
            'esri/views/MapView',
            'dojo/domReady!'

        ], function (
            MouseTrap,
            Map,
            MapView,
        ) {
            let map = new Map({basemap: 'streets'});
            mapView = new MapView({
                map,
                container: 'mapDiv',
                extent: {
                    xmax: -11762120.612131765,
                    xmin: -13074391.513731329,
                    ymax: 5225035.106177688,
                    ymin: 4373832.359194187,
                    spatialReference: 3857
                }
            });

            const mouseTrap = new MouseTrap({
                mapView,
                projectToWkid: 26912
            }, 'mouse-trap');
        });
    </script>
</head>
<body>
    <div id="mapDiv"></div>
    <div id="mouse-trap"></div>
</body>
</html>
